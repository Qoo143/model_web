# ============================================
# Library RAG Agent 環境變數範例
# ============================================
# 複製此檔案為 .env 並填入實際的值
# 生產環境務必修改所有敏感資訊！

# ============================================
# MySQL 資料庫配置
# ============================================
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=library_agent
MYSQL_USER=library_user
MYSQL_PASSWORD=library_pass

# ============================================
# 資料庫連線配置 (拆分為獨立變數)
# ============================================
DB_HOST=mysql
DB_PORT=3306
DB_USER=library_user
DB_PASSWORD=library_pass
DB_NAME=library_agent

# ============================================
# JWT 認證配置
# ============================================
# IMPORTANT: 必須設定強隨機字串！
# 生成方式: openssl rand -hex 32
# 或: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-change-in-production-use-openssl-rand-hex-32
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# 應用程式配置
# ============================================
APP_NAME=Library RAG Agent
APP_VERSION=1.0.0
DEBUG=true
ENVIRONMENT=development

# ============================================
# LLM 提供者選擇
# ============================================
# 可選值: ollama (本地模型) 或 gemini (Google Gemini API)
LLM_PROVIDER=ollama

# ============================================
# Ollama LLM 配置 (本地模型)
# ============================================
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=gpt-oss-20b
OLLAMA_TEMPERATURE=0.3

# ============================================
# Gemini API 配置 (雲端模型)
# ============================================
# 從 https://aistudio.google.com/app/apikey 取得 API Key
GEMINI_API_KEY=YOUR_API_KEY_HERE
GEMINI_MODEL=gemini-2.0-flash
GEMINI_TEMPERATURE=0.3

# ============================================
# Chroma 向量資料庫配置 (伺服器模式)
# ============================================
CHROMA_HOST=chroma
CHROMA_PORT=8000

# ============================================
# Embedding 模型配置
# ============================================
EMBEDDING_MODEL=BAAI/bge-m3
EMBEDDING_DEVICE=cpu

# ============================================
# 檔案上傳配置 (僅支援 txt/md)
# ============================================
UPLOAD_DIR=/app/storage/documents
MAX_FILE_SIZE=10485760  # 10MB (bytes)

# ============================================
# RAG 配置
# ============================================
CHUNK_SIZE=500
CHUNK_OVERLAP=50
TOP_K_RETRIEVAL=5

# ============================================
# CORS 配置
# ============================================
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# ============================================
# 前端配置
# ============================================
VITE_API_BASE_URL=http://localhost:8000
